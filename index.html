<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Simple List</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <!-- Umami Analytics -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="22f44d92-b8a1-4b5c-9ddd-9865e5d34062"></script>
</head>
<body>
    <div class="main-content">
        <h1 class="main-title">Simple List</h1>
        <div class="input-with-button">
            <input placeholder="Add item..." class="input" name="addItem" type="text" id="header-input">
            <button id="add-item-submit" class="plusButton" tabindex="0">
                <svg class="plusIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                    <g mask="url(#mask0_21_345)">
                        <path d="M13.75 23.75V16.25H6.25V13.75H13.75V6.25H16.25V13.75H23.75V16.25H16.25V23.75H13.75Z"></path>
                    </g>
                </svg>
            </button>
        </div>
        <div id="empty-state" class="empty-state hidden">
            <p>Your shopping list is empty</p>
            <p>Add items using the + button</p>
        </div>

        <ul id="shopping-list" class="shopping-list"></ul>
        
        <div class="actions-container">
            <button id="clear-completed" class="btn-17">
                <span class="text-container">
                    <span class="text">Clear</span>
                </span>
            </button>
            <button id="export-btn" class="btn-17">
                <span class="text-container">
                    <span class="text">Export</span>
                </span>
            </button>
            <button id="import-btn" class="btn-17">
                <span class="text-container">
                    <span class="text">Import</span>
                </span>
            </button>
            <input type="file" id="import-file" accept=".json" style="display: none;">
            <button id="install-pwa-btn" class="btn-17 hidden">
                <span class="text-container">
                    <span class="text">Install</span>
                </span>
            </button>
        </div>
    </div>

    <!-- Add/Edit Item Modal -->
    <div id="item-modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="modal-title">Add Item</h2>
            <input type="text" id="item-input" placeholder="Enter item name" maxlength="100">
            <div class="modal-actions">
                <button id="cancel-btn" class="btn btn-secondary">Cancel</button>
                <button id="save-btn" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>

    <!-- Confirm Dialog Modal -->
    <div id="confirm-modal" class="modal hidden">
        <div class="confirm-content">
            <div class="confirm-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
            </div>
            <h3 id="confirm-title">Are you sure?</h3>
            <p id="confirm-message"></p>
            <div class="confirm-actions">
                <button id="confirm-cancel" class="btn btn-secondary">Cancel</button>
                <button id="confirm-ok" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Install PWA Popup -->
    <div id="install-popup" class="install-popup hidden">
        <div class="install-card">
            <button id="install-close" class="install-close">&times;</button>
            <div class="install-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M12 2L12 15M12 15L8 11M12 15L16 11"></path>
                    <path d="M4 17V19C4 20.1 4.9 21 6 21H18C19.1 21 20 20.1 20 19V17"></path>
                </svg>
            </div>
            <span class="install-small-text">Simple List</span>
            <h2 class="install-title">Install App</h2>
            <p class="install-desc">Install this app on your device for quick access and offline use.</p>
            <div class="install-buttons">
                <button id="install-btn" class="install-button">
                    <div class="install-button-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L12 15M12 15L8 11M12 15L16 11M4 17V19C4 20.1 4.9 21 6 21H18C19.1 21 20 20.1 20 19V17"></path>
                        </svg>
                    </div>
                    <div class="install-button-text">
                        <span>Add to</span>
                        <span>Home Screen</span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Analytics Footer -->
    <footer class="analytics-footer">
        <div class="analytics-badge">
            <svg class="analytics-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3v18h18"></path>
                <path d="M18 17V9"></path>
                <path d="M13 17V5"></path>
                <path d="M8 17v-3"></path>
            </svg>
            <span class="analytics-text">Website Analytics</span>
        </div>
    </footer>

    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
</body>
</html>